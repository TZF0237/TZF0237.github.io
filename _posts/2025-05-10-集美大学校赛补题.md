---
layout: post
title: 12å±Šé›†ç¾å¤§å­¦æ ¡èµ›é¢˜è§£
date: 2025-05-10
tags:
- ACM-ICPC
categories: ACM-ICPC
description: æè¿°
---

## 12å±Šé›†ç¾å¤§å­¦æ ¡èµ›é¢˜è§£
å®˜æ–¹éš¾åº¦æ’åºå‚è€ƒï¼š

- Easyï¼šGBJHD
- Mediumï¼šCAEL
- Hardï¼šKIF

<!-- more -->

### Aã€åœ°ç –

**é¢˜æ„**ï¼šm çš„çŸ©å½¢ï¼Œå‘æ¯ä¸ªæ ¼å­ä¸­å¡«å……å­—æ¯ï¼Œä½¿å¾—ï¼šæ‰€æœ‰åŒå­—æ¯è”é€šå—å¿…é¡»ä¸ºæ­£æ–¹å½¢ã€‚

æœ€å°åŒ–ä»ä¸Šåˆ°ä¸‹ï¼Œä»å·¦åˆ°å³çš„å­—å…¸åºã€‚

**é¢˜è§£**ï¼š

æœ€å°åŒ–å­—å…¸åºæ˜¯ç»å…¸çš„è´ªå¿ƒé—®é¢˜ã€‚

æˆ‘ä»¬æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹ï¼Œä»å·¦åˆ°å³çš„é¡ºåºæšä¸¾æ¯ä¸€ä¸ªæœªå¡«å……æ ¼å­çš„é¢œè‰²ï¼Œåˆ¤æ–­æ˜¯å¦å¯è¡Œï¼Œéœ€è¦çš„æ—¶å€™å°†å·²æœ‰çš„æ­£æ–¹å½¢å‘å³æ–¹å’Œä¸‹æ–¹æ‰©å……ä¸€è¡Œå’Œä¸€åˆ—ã€‚

å¡«åˆ°ä¸€ä¸ªæ ¼å­çš„æ—¶å€™ï¼Œå…¶å·¦å³ä¸Šæ–¹ç´§é‚»æ ¼å­éƒ½å¯èƒ½å¡«å……è¿‡ã€‚

å¦‚æœè¯¥é¢œè‰²ä¸ä¸Šæ–¹æˆ–å³æ–¹ç›¸åŒï¼Œè¿™ç§æƒ…å†µä¸åˆæ³•ã€‚

å¦‚æœå®ƒä¸å·¦è¾¹é¢œè‰²ä¸åŒï¼Œé‚£ä¹ˆå¯ä»¥æ„æˆ 1*1 æ–¹å—ã€‚

å¦‚æœå®ƒä¸å·¦è¾¹é¢œè‰²ç›¸åŒï¼Œæˆ‘ä»¬å°±è¦è¿›ä¸€æ­¥è€ƒå¯Ÿå·¦è¾¹çš„æ–¹å—ã€‚

å¦‚æœå·¦è¾¹çš„æ–¹å—ä¸æ˜¯ä¸€ä¸ªå·²æœ‰æ­£æ–¹å½¢çš„å³ä¸Šè§’ï¼Œé‚£ä¹ˆä¸åˆæ³•ã€‚

å¦åˆ™æˆ‘ä»¬å°†è¯¥æ­£æ–¹å½¢å‘å³æ–¹å’Œä¸‹æ–¹æ‰©å……ä¸€è¡Œå’Œä¸€åˆ—ï¼Œæ— æ³•æ‰©å……åˆ™ä¸åˆæ³•ã€‚

```c++
#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
const int N=110;
int sn,sm;
char a[N][N];
char get_color(char lc,char uc,char rc){
	for(char i='A';i<='Z';i++){
		if(i!=lc&&i!=uc&&i!=rc){
			return i;
		}
	}
} 
void work(int x,int y){
	char c=get_color(a[x-1][y],a[x][y-1],a[x][y+1]);
	int len=1;
	while(a[x+len][y-1]!=c&&a[x-1][y+len]!=c&&x+len<=sn&&y+len<=sm&&!a[x+len][y]&&!a[x][y+len]){
		char t=get_color(c,a[x-1][y+len],0);
		if(t<c)break;
		len++;
	}
	for(int i=x;i<=x+len-1;i++){
		for(int j=y;j<=y+len-1;j++){
			a[i][j]=c;
		}
	}
	return;
}
int main(){
	cin>>sn>>sm;
	int cn,cm;
	cn=sn,cm=sm;
	for(int i=1;i<=sn;i++){
		for(int j=1;j<=sm;j++){
			if(!a[i][j])work(i,j);
		}
	}
	for(int i=1;i<=cn;i++){
		for(int j=1;j<=cm;j++){
			cout<<a[i][j];
		}
		cout<<"\n";
	}
}
```

### Bã€é€ƒç¦»èœ‚å·¢

**é¢˜æ„**ï¼šæœ‰ğ‘›ä¸ªé™·é˜±ï¼Œæ¯æ‹†é™¤ä¸€ä¸ªé™·é˜±ï¼Œç”Ÿå‘½å€¼å…ˆåŠ  ğ‘ å†å‡å» ğ‘ã€‚ä»»æ„æ—¶åˆ»ç”Ÿå‘½å€¼å¿…é¡»ä¸ºæ­£æ•°ï¼Œæ±‚ä¸€ä¸ªæœ€ä¼˜é¡ºåºï¼Œåœ¨åˆå§‹ç”Ÿå‘½å€¼ä¸ºâ„çš„æƒ…å†µä¸‹æ‹†é™¤æœ€å¤šé™·é˜±ã€‚

**é¢˜è§£**ï¼š

æŒ‰ a-b ä»å¤§åˆ°å°æ’åºï¼ŒæŒ‰é¡ºåºæ‹¿å–å³å¯ã€‚

```c++
ll n,h,ans=0;cin>>n>>h;
vector<ll> c(n);
for(int i=0;i<n;i++){
    ll a,b;cin>>a>>b;
    c[i]=a-b;
}
sort(c.begin(),c.end());
for(int i=n-1;i>=0;i--){
    h+=c[i];
    ans++;
    if(h<=0) {ans--;break;}
}
cout<<ans<<"\n";
```

### Cã€åŠ å¯†é€šè®¯

**é¢˜æ„**ï¼šç»™å‡ºä¸€ä¸ª 01 å­—ç¬¦ä¸²è‹¥å¹²å­ä¸² 1 ä¸ªæ•°çš„å¥‡å¶æ€§ï¼Œæ„é€ æœ€å°å­—å…¸åºçš„è§£ã€‚

**é¢˜è§£**ï¼š

è€ƒè™‘è¯¥ä¸²çš„å‰ç¼€å¼‚æˆ–å’Œ $$s[i]$$ï¼Œåˆ™ $$parity[l,r]=s[r] \wedge s[l-1]$$ã€‚

è¿™æ˜¯ä¸€ä¸ªç»å…¸çš„2-SATé—®é¢˜ã€‚

å…¶æœ€å°å­—å…¸åºçš„è§£å¯ä»¥ä»å‰å‘åé€ä½ç¡®å®šï¼Œæ³¨æ„é™åˆ¶ s[0]=0ã€‚

è€ƒè™‘å¼‚æˆ–å‰ç¼€å’Œæ˜¯å¦ç›¸åŒçš„é™åˆ¶ï¼Œé¢˜ç›®ä¿è¯æœ‰è§£çš„è¯å°±å¯ä»¥ä»ä»»æ„å·²çŸ¥çš„ä½ç½®çš„å€¼å¾—åˆ°æ‰€æœ‰ç›¸å…³ä½ç½®çš„å€¼ï¼Œä½ç½® 0 çš„å‰ç¼€å’Œä¸º 0ï¼Œæ‰€ä»¥ä» 0 å¼€å§‹è®¡ç®—ï¼Œå¦‚æœé‡åˆ°ä¸€ä¸ªæ²¡ç®—è¿‡çš„ä½ç½® iï¼Œä¸ºäº†æœ€å°åŒ–ç­”æ¡ˆå­—å…¸åºï¼Œå°±è®©ä½ç½® i çš„å‰ç¼€å’Œä¸ä½ç½® i -1 çš„å‰ç¼€å’Œå€¼ç›¸ç­‰ï¼Œè¿™æ ·ç­”æ¡ˆé‡Œ ä½ç½® i çš„å€¼å°±æ˜¯ 0 äº†ï¼Œæ‰«ä¸€éå°±å¯ä»¥ã€‚

```c++
//ç¬¬ä¸€ç§ä»£ç 
#include <bits/stdc++.h>
using namespace std;
const int N = 6e3 + 10;
int n, k;
int head[N], to[N << 1],nxt[N << 1], tot = 0; 
int s[N], ans[N];
void add(int u, int v){
	nxt[++tot] = head[u];
	to[tot] = v;
	head[u] = tot;
}
void dfs(int u){
	for(int i = head[u];i;i=nxt[i]){
		int v = to[i];
		if(!s[v]){
			s[v] = 1;
			dfs(v);
		} 
	}
}
int main(){
	int n, k;cin >> n >> k;
	n+=1;
	for(int i = 1; i <= k; i ++){
		int l, r, val;cin >> l >> r >> val;
		if(val == 0){
			add(r, l - 1);
			add(l - 1, r);
			add(r + n, l - 1 + n);
			add(l - 1 + n, r + n);
		}
		else{
			add(r, l - 1 + n);
			add(l - 1, r + n);
			add(r + n, l - 1);
			add(l - 1 + n, r);
		}
	}
	int st = 0;
	dfs(n);
	for(int i = 1; i<= n; i ++){
		int node = (!st)*n + i;
		if(!s[i] && !s[i + n]){
			ans[i] = st;
			dfs(node);
		}
		else if(s[i]){
			ans[i] = 1;
			dfs(i);
			st = 1;
		}
		else{
			ans[i] = 0;
			dfs(i + n);
			st = 0;
		}
	}
	for(int i = 1; i < n - 1; i ++)
		cout << (ans[i] ^ ans[i - 1]) << ' ';
	cout << (ans[n - 1] ^ ans[n - 2]);
	return 0;
}
```

```c++
//ç¬¬2ç§ä»£ç 
vector<pair<int,int> > v[3005];
int n,m,e[3005],ans[3005];
bool on[3005];
void solve(){
	cin>>n>>m;
	for(int i=1;i<=m;i++){
		int l,r,x;cin>>l>>r>>x;
		l--;
		v[l].push_back({r,x});
		v[r].push_back({l,x});
	}
	for(int i=0;i<=n;i++)
		if(on[i]==0){
			on[i]=1;
			if(i!=0) e[i]=e[i-1];
			queue<int> q;
			for(q.push(i);!q.empty();q.pop()){
				int now=q.front();
				for(auto [to,w]:v[now])
					if(on[to]==0){
					e[to]=e[now]^w;
					on[to]=1,q.push(to);
				}
			}
		}
	for(int i=1;i<=n;i++) ans[i]=e[i-1]^e[i];
	for(int i=1;i<=n;i++) cout<<ans[i]<<" \n"[i==n];
}
```

### Dã€ç®€æ˜“é‡ç­’

**é¢˜æ„**ï¼šæœ‰ä¸€æ¡æ²³ä»¥åŠ n ä¸ªæ¯å­ï¼Œæ¯ä¸ªæ¯å­æœ‰ä¸€ä¸ªå®¹é‡ã€‚ä½¿ç”¨è¿™äº›æ¯å­ï¼Œèƒ½å¦é‡å‡ºå¯¹åº”ä½“ç§¯çš„æ°´ï¼ŸQ ç»„è¯¢é—®ã€‚

**é¢˜è§£**ï¼š

ä½¿ç”¨å®¹ç§¯ä¸º A çš„æ¯å­ï¼Œæˆ‘ä»¬æ—¢å¯ä»¥å°†æ°´å¢åŠ  A ä¹Ÿå¯ä»¥å‡å°‘ Aã€‚

å› æ­¤èƒ½å¤Ÿé‡å‡ºçš„ä½“ç§¯ä¸º $$\sum_{i=1}^nA_ix_iï¼Œx_iæ˜¯æ•´æ•°$$ã€‚

æŒ‰ç…§æ‰©å±•æ¬§å‡ é‡Œå¾—å®šç†ï¼Œå…¶ä¸€å®šä¸º $$gcd(A_1,A_2,...,A_n)$$ çš„å€æ•°ã€‚

```c++
cin>>n>>q;
cin>>ans;
for(int i=2;i<=n;i++){
    ll x;cin>>x;
    ans=__gcd(ans,x);
}
while(q--){
    ll x;cin>>x;
    if(x%ans==0) cout<<"Yes\n";
    else cout<<"No\n";
}
```

### Eã€å¤æ‚é‡ç­’

**é¢˜æ„**ï¼šæœ‰ n ä¸ªé‡ç­’ï¼Œç¬¬ i ä¸ªé‡ç­’ä¸º $$i!$$ã€‚

åœ¨å‡‘å‡ºä¸€å®šä½“ç§¯çš„æ¶²ä½“çš„æ‰€æœ‰æ–¹æ¡ˆä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©ä½¿ç”¨çš„é‡ç­’æ€»æ•°æœ€å°çš„é‚£ä¸ªã€‚

æ±‚é‡å‡º $$l \sim r$$ ä¸­æ‰€æœ‰æ•´æ•°ä½“ç§¯å„ä¸€æ¬¡æ¯ä¸ªé‡ç­’éœ€è¦ç”¨å‡ æ¬¡ï¼Œq ç»„è¯¢é—®ã€‚

**é¢˜è§£**ï¼š

æœ€ä¼˜æ–¹æ¡ˆå®¹æ˜“è´ªå¿ƒï¼Œä¼˜å…ˆé€‰å– n å·é‡ç­’ï¼Œä¸å¤Ÿæ—¶å†é€‰å– n-1 å·ï¼Œä»¥æ­¤ç±»æ¨ã€‚

å› æ­¤å¯¹äº $$l\sim r$$ ä¸­çš„æ¯ä¸ªæ•°ï¼Œéƒ½æŠŠå®ƒå†™å‡º $$k*n!+b(b<n!)$$ çš„å½¢å¼ã€‚

k çš„éƒ¨åˆ†æ˜¯ç­‰å·®æ•°åˆ—æ±‚å’Œã€‚

å¯¹ b çš„éƒ¨åˆ†ï¼Œé¢„å¤„ç† $$0 \sim n!-1$$ çš„ç»“æœï¼Œå…¶å‘ˆç°å‘¨æœŸæ’å¸ƒï¼Œä½¿ç”¨å‰ç¼€å’Œæ•°ç»„å¯ä»¥å¿«é€Ÿå¾—å‡ºç­”æ¡ˆã€‚

### Gã€ç”µè¯

**é¢˜æ„**ï¼šç»™å‡ºä¸€ä¸ªç”µè¯é”®ç›˜å’Œä¸€ä¸ªå·ç ï¼Œæ±‚æ‰‹æŒ‡ç§»åŠ¨çš„æ€»é•¿ã€‚

**é¢˜è§£**ï¼š

æ‰“è¡¨é¢„å¤„ç†æŒ‰é”®çš„ä½ç½®ï¼Œç›´æ¥è®¡ç®—ï¼Œæ—¶é—´å¤æ‚åº¦ $$O(n)$$ã€‚

```c++
int a[10][2]={{3,1},{0,0},{0,1},{0,2},{1,0},{1,1},{1,2},{2,0},{2,1},{2,2}};
string s;cin>>s;
int x=a[s[0]-'0'][0],y=a[s[0]-'0'][1],sum=0;
for(int i=1;i<s.size();i++){
    sum+=abs(x-a[s[i]-'0'][0])+abs(y-a[s[i]-'0'][1]);
    x=a[s[i]-'0'][0],y=a[s[i]-'0'][1];
}
cout<<sum<<"\n";
```

### Hã€èŠ±å›

**é¢˜æ„**ï¼šæ±‚æœ‰å¤šå°‘ç§åˆæ³•çš„æ–¹æ¡ˆåœ¨ n*m èŠ±å›ä¸­æ”¾æ»¡è‡³å¤š 4 ç§èŠ±ï¼Œæ»¡è¶³ä¸å­˜åœ¨åŒè¡ŒåŒç§èŠ±è·ç¦» <=3 ï¼Œä¸å­˜åœ¨åŒåˆ—åŒç§èŠ±è·ç¦» <=3 ã€‚

**é¢˜è§£**ï¼š

è€ƒè™‘ä»»æ„åŒè¡Œæˆ–åŒåˆ—è¿ç»­å››æ ¼ï¼Œå…¶å¿…å®šäº’å¼‚ã€‚

ç„¶åå¯ä»¥å‘ç°ï¼Œç¡®å®šå·¦ä¸Šäº† 4*4 æ ¼ï¼Œå…¶ä½™æ ¼å­å…¨éƒ¨å›ºå®šã€‚

æš´æœå·¦ä¸Šæ ¼å­å³å¯ã€‚

```c++
//æš´æœä»£ç 
void dfs(ll x,ll y){
	if(y==m+1&&x!=n){
		dfs(x+1,1);
		return;
	}else if(y==m+1&&x==n){
		ans++;
		return ;
	}
	for(int i=1;i<=4;i++){
		ll x1= x-3>=1ll ?b[x-3][y]:-1ll;
		ll x2= x-2>=1ll ?b[x-2][y]:-1ll;
		ll x3= x-1>=1ll ?b[x-1][y]:-1ll;
		ll y1= y-3>=1ll ?b[x][y-3]:-1ll;
		ll y2= y-2>=1ll ?b[x][y-2]:-1ll;
		ll y3= y-1>=1ll ?b[x][y-1]:-1ll;
		if(x1==i||x2==i||x3==i||y1==i||y2==i||y3==i){
			continue;
		}else{
			b[x][y]=i;
			dfs(x,y+1);
			b[x][y]=0;
		}
	}
}
```

```c++
//ACä»£ç 
void init(){
	a[1][1]=4;a[1][2]=12;a[1][3]=24;a[1][4]=24;
	a[2][1]=12;a[2][2]=84;a[2][3]=264;a[2][4]=216;
	a[3][1]=24;a[3][2]=264;a[3][3]=1056;a[3][4]=576;
	a[4][1]=24;a[4][2]=216;a[4][3]=576;a[4][4]=576;
}
int main(){
	init();
	cin>>n>>m;
	if(n>=4&&m>=4) cout<<a[4][4]<<"\n";
	else if(n>=4) cout<<a[4][m]<<"\n";
	else if(m>=4) cout<<a[n][m]<<"\n";
	else cout<<a[n][m]<<"\n";
}
```



### Jã€åˆ†å­æµ‹åº

**é¢˜æ„**ï¼šæ±‚ä¸‰ç»´ç©ºé—´ä¸­ä»»æ„ä¸‰ç‚¹ä¸å…±çº¿ï¼Œä»»æ„å››ç‚¹ä¸å…±é¢çš„ ğ‘› ä¸ªé¡¶ç‚¹çš„å‡¸å¤šé¢ä½“æœ‰å¤šå°‘ä¸ªé¢ã€‚

**é¢˜è§£**ï¼š

è€ƒè™‘æ–°æ·»åŠ ä¸€ä¸ªé¡¶ç‚¹ï¼Œå…¶å¯ä»¥çœ‹ä½œæ˜¯åœ¨å…¶ä¸­ä¸€é¢ä¸Šå‘å¤–æ‰©å±•å‡ºä¸€ä¸ªå››é¢ä½“ï¼Œæ–°å¢åŠ  $$4-2=2$$ ä¸ªé¢ï¼Œç­”æ¡ˆä¸º $$2n-4$$ ã€‚

```c++
int test;cin>>test;
while(test--){
    int n;cin >> n;
    cout<<2*n-4<<"\n";
}
```

### Lã€è‘£äº‹ä¼š

**é¢˜æ„**ï¼šæœ‰ n ä¸ªçŸ³å­ç»„æˆä¸€ä¸ªç¯ï¼Œæ¯ä¸ªçŸ³å­æœ‰ä¸€ä¸ªé¢œè‰²ã€‚

å¯¹äºæ¯ä¸ª 0â‰¤kâ‰¤n ï¼Œåˆ¤æ–­æ˜¯å¦èƒ½åˆ é™¤è¿ç»­çš„ k ä¸ªçŸ³å­ï¼Œä½¿å¾—å‰©ä¸‹çš„ä»»æ„ç›¸é‚»ä¸¤ä¸ªçŸ³å­ä¸åŒè‰²ã€‚

```c++
const int maxn = 1e6+114;
const ll mod = 1e9+7;
const ll base = 131;
ll pre[maxn],a[maxn],_pow[maxn];
int n;
int nxt[maxn],lst[maxn];
int ans[maxn];
bool chk(int l,int r,int L,int R){
	return ((pre[r]+mod-pre[l-1])%mod*_pow[L]%mod)==((pre[R]+mod-pre[L-1])%mod*_pow[l]%mod);
}		
void work(){
	cin>>n;
	_pow[0]=1;
	for(int i=1;i<=n;i++) _pow[i]=_pow[i-1]*base%mod;
	for(int i=1;i<=n;i++) cin>>a[i],pre[i]=(pre[i-1]+a[i]*_pow[i]%mod)%mod;
	nxt[n]=n;
	for(int i=n-1;i>=1;i--){
		if(a[i]==a[i+1]) nxt[i]=i;
		else nxt[i]=nxt[i+1];
	}
	lst[1]=1;
	for(int i=2;i<=n;i++){
		if(a[i]==a[i-1]) lst[i]=i;
		else lst[i]=lst[i-1];
	}
	ans[0]=(lst[n]==1&&a[1]!=a[n]);
	for(int i=n-1;i>1;i--){
		bool flag=false;
		for(int l=1,r=i;l<=n;l=r+1,r=min(n,l+i-1)){
			if(nxt[l]>=r&&a[l]!=a[r]&&r-l+1==i) flag=true;
			int L=r+1,R=min(n,L+i-1);
			if(L>R) continue;
			if(a[r]==a[L]) continue;
			int liml=r-max(lst[r],l)+1;
			int limr=min(nxt[L],R)-L+1;
			int xl=(r-l+1)-liml+1,xr=r-l+1;
			int yl=(r-l+1)+1,yr=(r-l+1)+limr;
			yl-=(i-1),yr-=(i-1);
			xl=max(xl,yl);
			xr=min(xr,yr);
			if(xl<=xr){
				if(chk(l-1+xl,l-1+xr,l-1+xl+i-1,l-1+xr+i-1)==false) flag=true;
			}
		}
		ans[n-i]=flag;
	}
	ans[n-1]=1;
	for(int i=1;i<n-1;i++){
		int xl=1,xr=nxt[1],yl=lst[n],yr=n;
		yl-=(i+1),yr-=(i+1);
		xl=max(xl,yl);
		xr=min(xr,yr);
		if(xl<=xr){
			if(chk(xl,xr,xl+i+1,xr+i+1)==false&&a[1]!=a[n]) ans[i]=true;
		}
	}
	for(int i=0;i<n;i++) cout<<ans[i];
	for(int i=0;i<n;i++) ans[i]=0;
}
```

